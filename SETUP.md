# CutoutShort ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã‚¬ã‚¤ãƒ‰

ã“ã®ã‚·ã‚¹ãƒ†ãƒ ã¯ã€Google Driveã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸå‹•ç”»ã‹ã‚‰è‡ªå‹•çš„ã«YouTube Shortsã‚’ç”Ÿæˆã—ã€YouTubeã«äºˆç´„æŠ•ç¨¿ã™ã‚‹ã‚·ã‚¹ãƒ†ãƒ ã§ã™ã€‚

## ðŸ“‹ å¿…è¦ãªã‚‚ã®

- Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼ˆGoogle Driveã€Google Sheetsç”¨ï¼‰
- YouTubeãƒãƒ£ãƒ³ãƒãƒ«
- GitHubã‚¢ã‚«ã‚¦ãƒ³ãƒˆ
- Google Cloud Platformã‚¢ã‚«ã‚¦ãƒ³ãƒˆï¼ˆç„¡æ–™ï¼‰

---

## ðŸš€ ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—æ‰‹é †

### ã‚¹ãƒ†ãƒƒãƒ—1: Google Cloud Platformã®ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆä½œæˆ

#### 1-1. Google Cloud Consoleã«ã‚¢ã‚¯ã‚»ã‚¹
1. https://console.cloud.google.com/ ã‚’é–‹ã
2. Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³

#### 1-2. æ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’ä½œæˆ
1. ç”»é¢ä¸Šéƒ¨ã®ã€Œãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é¸æŠžã€ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ã€Œæ–°ã—ã„ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯
3. ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆåã‚’å…¥åŠ›ï¼ˆä¾‹ï¼š`cutout-short-automation`ï¼‰
4. ã€Œä½œæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯
5. ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãŒé¸æŠžã•ã‚Œã¦ã„ã‚‹ã“ã¨ã‚’ç¢ºèª

#### 1-3. å¿…è¦ãªAPIã‚’æœ‰åŠ¹åŒ–
ä»¥ä¸‹ã®3ã¤ã®APIã‚’æœ‰åŠ¹åŒ–ã—ã¾ã™ã€‚

**Google Drive API ã‚’æœ‰åŠ¹åŒ–ï¼š**
1. https://console.cloud.google.com/apis/library/drive.googleapis.com ã‚’é–‹ã
2. ã€Œæœ‰åŠ¹ã«ã™ã‚‹ã€ã‚’ã‚¯ãƒªãƒƒã‚¯

**Google Docs API ã‚’æœ‰åŠ¹åŒ–ï¼š**
1. https://console.cloud.google.com/apis/library/docs.googleapis.com ã‚’é–‹ã
2. ã€Œæœ‰åŠ¹ã«ã™ã‚‹ã€ã‚’ã‚¯ãƒªãƒƒã‚¯

**Google Sheets API ã‚’æœ‰åŠ¹åŒ–ï¼š**
1. https://console.cloud.google.com/apis/library/sheets.googleapis.com ã‚’é–‹ã
2. ã€Œæœ‰åŠ¹ã«ã™ã‚‹ã€ã‚’ã‚¯ãƒªãƒƒã‚¯

---

### ã‚¹ãƒ†ãƒƒãƒ—2: ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®ä½œæˆ

#### 2-1. ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆ
1. https://console.cloud.google.com/iam-admin/serviceaccounts ã‚’é–‹ã
2. ã€Œã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚’ä½œæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯
3. ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆåã‚’å…¥åŠ›ï¼ˆä¾‹ï¼š`cutout-short-bot`ï¼‰
4. ã€Œä½œæˆã—ã¦ç¶šè¡Œã€ã‚’ã‚¯ãƒªãƒƒã‚¯
5. ã€Œãƒ­ãƒ¼ãƒ«ã‚’é¸æŠžã€â†’ã€Œç·¨é›†è€…ã€ã‚’é¸æŠž
6. ã€Œç¶šè¡Œã€ã‚’ã‚¯ãƒªãƒƒã‚¯
7. ã€Œå®Œäº†ã€ã‚’ã‚¯ãƒªãƒƒã‚¯

#### 2-2. ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã‚­ãƒ¼ã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
1. ä½œæˆã—ãŸã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã®è¡Œã®ã€Œï¸™ã€ï¼ˆç¸¦3ç‚¹ï¼‰ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ã€Œéµã‚’ç®¡ç†ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
3. ã€Œéµã‚’è¿½åŠ ã€â†’ã€Œæ–°ã—ã„éµã‚’ä½œæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯
4. ã€ŒJSONã€ã‚’é¸æŠž
5. ã€Œä½œæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯
6. **JSONãƒ•ã‚¡ã‚¤ãƒ«ãŒãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã•ã‚Œã¾ã™ï¼ˆå¤§åˆ‡ã«ä¿ç®¡ï¼ï¼‰**

---

### ã‚¹ãƒ†ãƒƒãƒ—3: Google Driveãƒ•ã‚©ãƒ«ãƒ€ã®æº–å‚™

#### 3-1. å…¥åŠ›ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆ
1. Google Driveï¼ˆhttps://drive.google.com/ï¼‰ã‚’é–‹ã
2. ã€Œæ–°è¦ã€â†’ã€Œãƒ•ã‚©ãƒ«ãƒ€ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
3. ãƒ•ã‚©ãƒ«ãƒ€åï¼š`CutoutShort_Input` ã‚’ä½œæˆ
4. ãƒ•ã‚©ãƒ«ãƒ€ã‚’é–‹ã„ã¦ã€URLã‹ã‚‰ **ãƒ•ã‚©ãƒ«ãƒ€ID** ã‚’ã‚³ãƒ”ãƒ¼
   - URLä¾‹ï¼š`https://drive.google.com/drive/folders/11kdVhAnS1zPjBIjKQp1vqRysNKpovFtz`
   - ãƒ•ã‚©ãƒ«ãƒ€IDï¼š`11kdVhAnS1zPjBIjKQp1vqRysNKpovFtz`ï¼ˆæœ€å¾Œã®éƒ¨åˆ†ï¼‰

#### 3-2. å‡ºåŠ›ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆ
1. ã€Œæ–°è¦ã€â†’ã€Œãƒ•ã‚©ãƒ«ãƒ€ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ãƒ•ã‚©ãƒ«ãƒ€åï¼š`CutoutShort_Ready` ã‚’ä½œæˆ
3. ãƒ•ã‚©ãƒ«ãƒ€ã‚’é–‹ã„ã¦ã€URLã‹ã‚‰ **ãƒ•ã‚©ãƒ«ãƒ€ID** ã‚’ã‚³ãƒ”ãƒ¼

#### 3-3. ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«æ¨©é™ã‚’ä»˜ä¸Ž
**å…¥åŠ›ãƒ•ã‚©ãƒ«ãƒ€ï¼š**
1. `CutoutShort_Input` ãƒ•ã‚©ãƒ«ãƒ€ã‚’å³ã‚¯ãƒªãƒƒã‚¯â†’ã€Œå…±æœ‰ã€
2. ã‚¹ãƒ†ãƒƒãƒ—2-2ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸJSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’é–‹ã
3. `client_email` ã®å€¤ï¼ˆ`***@***.iam.gserviceaccount.com`ï¼‰ã‚’ã‚³ãƒ”ãƒ¼
4. å…±æœ‰ãƒ€ã‚¤ã‚¢ãƒ­ã‚°ã«è²¼ã‚Šä»˜ã‘
5. æ¨©é™ï¼šã€Œç·¨é›†è€…ã€ã‚’é¸æŠž
6. ã€Œé€ä¿¡ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ï¼ˆé€šçŸ¥ã¯ä¸è¦ï¼‰

**å‡ºåŠ›ãƒ•ã‚©ãƒ«ãƒ€ï¼š**
1. `CutoutShort_Ready` ãƒ•ã‚©ãƒ«ãƒ€ã§ã‚‚åŒã˜æ“ä½œã‚’ç¹°ã‚Šè¿”ã™

---

### ã‚¹ãƒ†ãƒƒãƒ—4: Google Sheetsã®æº–å‚™

#### 4-1. ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’ä½œæˆ
1. https://sheets.google.com/ ã‚’é–‹ã
2. ã€Œç©ºç™½ã€ã‚’ã‚¯ãƒªãƒƒã‚¯ã—ã¦æ–°ã—ã„ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã‚’ä½œæˆ
3. ã‚·ãƒ¼ãƒˆåã‚’ã€ŒCutoutShortã€ã«å¤‰æ›´
4. URLã‹ã‚‰ **ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆID** ã‚’ã‚³ãƒ”ãƒ¼
   - URLä¾‹ï¼š`https://docs.google.com/spreadsheets/d/1abc...xyz/edit`
   - ã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆIDï¼š`1abc...xyz`ï¼ˆçœŸã‚“ä¸­ã®éƒ¨åˆ†ï¼‰

#### 4-2. ãƒ˜ãƒƒãƒ€ãƒ¼è¡Œã‚’ä½œæˆ
A1ã‚»ãƒ«ã‹ã‚‰ä»¥ä¸‹ã‚’å…¥åŠ›ï¼š

| A | B | C | D | E | F | G | H | I | J | K | L |
|---|---|---|---|---|---|---|---|---|---|---|---|
| æŠ•ç¨¿æ—¥æ™‚ | ã‚¿ã‚¤ãƒˆãƒ« | YouTube URL | å‹•ç”»ç§’æ•° | é–‹å§‹ä½ç½® | çµ‚äº†ä½ç½® | æŠ½å‡ºæ–¹æ³• | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | Input Tokens | Output Tokens | Total Tokens | ã‚³ã‚¹ãƒˆ (å††) |

#### 4-3. ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã«æ¨©é™ã‚’ä»˜ä¸Ž
1. ã€Œå…±æœ‰ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
2. ã‚¹ãƒ†ãƒƒãƒ—3-3ã¨åŒã˜ `client_email` ã‚’è¿½åŠ 
3. æ¨©é™ï¼šã€Œç·¨é›†è€…ã€ã‚’é¸æŠž
4. ã€Œé€ä¿¡ã€ã‚’ã‚¯ãƒªãƒƒã‚¯

---

### ã‚¹ãƒ†ãƒƒãƒ—5: YouTube APIèªè¨¼ã®è¨­å®š

#### 5-1. OAuth 2.0 ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆIDã®ä½œæˆ
1. https://console.cloud.google.com/apis/credentials ã‚’é–‹ã
2. ã€Œèªè¨¼æƒ…å ±ã‚’ä½œæˆã€â†’ã€ŒOAuth ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ IDã€ã‚’ã‚¯ãƒªãƒƒã‚¯
3. åŒæ„ç”»é¢ã®è¨­å®šã‚’æ±‚ã‚ã‚‰ã‚ŒãŸå ´åˆï¼š
   - ã€Œå¤–éƒ¨ã€ã‚’é¸æŠžâ†’ã€Œä½œæˆã€
   - ã‚¢ãƒ—ãƒªåï¼š`CutoutShort`
   - ãƒ¦ãƒ¼ã‚¶ãƒ¼ã‚µãƒãƒ¼ãƒˆãƒ¡ãƒ¼ãƒ«ï¼šè‡ªåˆ†ã®ãƒ¡ãƒ¼ãƒ«
   - ãƒ‡ãƒ™ãƒ­ãƒƒãƒ‘ãƒ¼ã®é€£çµ¡å…ˆæƒ…å ±ï¼šè‡ªåˆ†ã®ãƒ¡ãƒ¼ãƒ«
   - ã€Œä¿å­˜ã—ã¦ç¶šè¡Œã€ã‚’3å›žã‚¯ãƒªãƒƒã‚¯
   - ã€Œãƒ€ãƒƒã‚·ãƒ¥ãƒœãƒ¼ãƒ‰ã«æˆ»ã‚‹ã€ã‚’ã‚¯ãƒªãƒƒã‚¯

#### 5-2. OAuth ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚’ä½œæˆ
1. å†ã³ã€Œèªè¨¼æƒ…å ±ã‚’ä½œæˆã€â†’ã€ŒOAuth ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆ IDã€
2. ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³ã®ç¨®é¡žï¼šã€Œãƒ‡ã‚¹ã‚¯ãƒˆãƒƒãƒ— ã‚¢ãƒ—ãƒªã€
3. åå‰ï¼š`CutoutShort Desktop`
4. ã€Œä½œæˆã€ã‚’ã‚¯ãƒªãƒƒã‚¯
5. **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆID** ã¨ **ã‚¯ãƒ©ã‚¤ã‚¢ãƒ³ãƒˆã‚·ãƒ¼ã‚¯ãƒ¬ãƒƒãƒˆ** ãŒè¡¨ç¤ºã•ã‚Œã¾ã™
6. ã€ŒJSONã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
7. ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸãƒ•ã‚¡ã‚¤ãƒ«åã‚’ `youtube-client-secret.json` ã«å¤‰æ›´

#### 5-3. YouTube Data API v3 ã‚’æœ‰åŠ¹åŒ–
1. https://console.cloud.google.com/apis/library/youtube.googleapis.com ã‚’é–‹ã
2. ã€Œæœ‰åŠ¹ã«ã™ã‚‹ã€ã‚’ã‚¯ãƒªãƒƒã‚¯

---

### ã‚¹ãƒ†ãƒƒãƒ—6: Gemini API ã‚­ãƒ¼ã®å–å¾—

#### 6-1. Google AI Studioã«ã‚¢ã‚¯ã‚»ã‚¹
1. https://aistudio.google.com/ ã‚’é–‹ã
2. ã€ŒGet API keyã€ã‚’ã‚¯ãƒªãƒƒã‚¯
3. å…ˆã»ã©ä½œæˆã—ãŸãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã‚’é¸æŠž
4. ã€ŒCreate API keyã€ã‚’ã‚¯ãƒªãƒƒã‚¯
5. **APIã‚­ãƒ¼ãŒè¡¨ç¤ºã•ã‚Œã¾ã™ï¼ˆã‚³ãƒ”ãƒ¼ã—ã¦ä¿ç®¡ï¼‰**

---

### ã‚¹ãƒ†ãƒƒãƒ—7: GitHubãƒªãƒã‚¸ãƒˆãƒªã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

#### 7-1. ãƒªãƒã‚¸ãƒˆãƒªã‚’Forkï¼ˆã¾ãŸã¯æ–°è¦ä½œæˆï¼‰
1. ã“ã®ãƒªãƒã‚¸ãƒˆãƒªã®ãƒšãƒ¼ã‚¸ã§ã€ŒForkã€ã‚’ã‚¯ãƒªãƒƒã‚¯
   - ã¾ãŸã¯ã€æ–°ã—ã„ãƒªãƒã‚¸ãƒˆãƒªã‚’ä½œæˆã—ã¦ã‚³ãƒ¼ãƒ‰ã‚’push

#### 7-2. GitHub Secretsã®è¨­å®š
GitHubãƒªãƒã‚¸ãƒˆãƒªã®ã€ŒSettingsã€â†’ã€ŒSecrets and variablesã€â†’ã€ŒActionsã€ã‚’é–‹ã

ä»¥ä¸‹ã® **6ã¤ã®Secret** ã‚’è¿½åŠ ã—ã¾ã™ï¼š

**1. GOOGLE_APPLICATION_CREDENTIALS**
- ã€ŒNew repository secretã€ã‚’ã‚¯ãƒªãƒƒã‚¯
- Name: `GOOGLE_APPLICATION_CREDENTIALS`
- Secret: ã‚¹ãƒ†ãƒƒãƒ—2-2ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸJSONãƒ•ã‚¡ã‚¤ãƒ«ã®**å†…å®¹å…¨ä½“**ã‚’ã‚³ãƒ”ãƒš
- ã€ŒAdd secretã€ã‚’ã‚¯ãƒªãƒƒã‚¯

**2. YOUTUBE_CLIENT_SECRET**
- Name: `YOUTUBE_CLIENT_SECRET`
- Secret: ã‚¹ãƒ†ãƒƒãƒ—5-2ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸJSONãƒ•ã‚¡ã‚¤ãƒ«ã®**å†…å®¹å…¨ä½“**ã‚’ã‚³ãƒ”ãƒš

**3. YOUTUBE_TOKEN**
- Name: `YOUTUBE_TOKEN`
- Secret: **å¾Œã§è¨­å®šã—ã¾ã™ï¼ˆã‚¹ãƒ†ãƒƒãƒ—9ã§å–å¾—ï¼‰**
- ä»Šã¯ç©ºã§è¿½åŠ ã—ã¦ãŠãï¼ˆå¾Œã§æ›´æ–°ï¼‰

**4. DRIVE_INPUT_FOLDER_ID**
- Name: `DRIVE_INPUT_FOLDER_ID`
- Secret: ã‚¹ãƒ†ãƒƒãƒ—3-1ã§ã‚³ãƒ”ãƒ¼ã—ãŸå…¥åŠ›ãƒ•ã‚©ãƒ«ãƒ€ID

**5. DRIVE_READY_FOLDER_ID**
- Name: `DRIVE_READY_FOLDER_ID`
- Secret: ã‚¹ãƒ†ãƒƒãƒ—3-2ã§ã‚³ãƒ”ãƒ¼ã—ãŸå‡ºåŠ›ãƒ•ã‚©ãƒ«ãƒ€ID

**6. SPREADSHEET_ID**
- Name: `SPREADSHEET_ID`
- Secret: ã‚¹ãƒ†ãƒƒãƒ—4-1ã§ã‚³ãƒ”ãƒ¼ã—ãŸã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆID

**7. GEMINI_API_KEY**
- Name: `GEMINI_API_KEY`
- Secret: ã‚¹ãƒ†ãƒƒãƒ—6-1ã§ã‚³ãƒ”ãƒ¼ã—ãŸAPIã‚­ãƒ¼

---

### ã‚¹ãƒ†ãƒƒãƒ—8: ãƒ­ãƒ¼ã‚«ãƒ«ç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ï¼ˆYouTubeèªè¨¼ç”¨ï¼‰

#### 8-1. ãƒªãƒã‚¸ãƒˆãƒªã‚’ã‚¯ãƒ­ãƒ¼ãƒ³
```bash
git clone https://github.com/ã‚ãªãŸã®ãƒ¦ãƒ¼ã‚¶ãƒ¼å/CutoutShort.git
cd CutoutShort
```

#### 8-2. Pythonç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—
```bash
# Python 3.11ä»¥ä¸ŠãŒå¿…è¦
python --version

# ä»®æƒ³ç’°å¢ƒã‚’ä½œæˆ
python -m venv venv

# ä»®æƒ³ç’°å¢ƒã‚’æœ‰åŠ¹åŒ–
# Windows:
venv\Scripts\activate
# Mac/Linux:
source venv/bin/activate

# ä¾å­˜ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install -r requirements.txt
```

#### 8-3. èªè¨¼ãƒ•ã‚¡ã‚¤ãƒ«ã‚’é…ç½®
1. `credentials` ãƒ•ã‚©ãƒ«ãƒ€ã‚’ä½œæˆ
```bash
mkdir credentials
```

2. ã‚¹ãƒ†ãƒƒãƒ—2-2ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸJSONãƒ•ã‚¡ã‚¤ãƒ«ã‚’ `credentials/service-account.json` ã¨ã—ã¦ä¿å­˜

3. ã‚¹ãƒ†ãƒƒãƒ—5-2ã§ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ã—ãŸ `youtube-client-secret.json` ã‚’ `credentials/` ãƒ•ã‚©ãƒ«ãƒ€ã«ä¿å­˜

---

### ã‚¹ãƒ†ãƒƒãƒ—9: YouTubeèªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ã®å–å¾—

#### 9-1. èªè¨¼ã‚¹ã‚¯ãƒªãƒ—ãƒˆã‚’å®Ÿè¡Œ
```bash
python test_youtube_auth.py
```

#### 9-2. ãƒ–ãƒ©ã‚¦ã‚¶ã§èªè¨¼
1. ãƒ–ãƒ©ã‚¦ã‚¶ãŒè‡ªå‹•çš„ã«é–‹ãã¾ã™
2. YouTubeã«ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã—ãŸã„Googleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã§ãƒ­ã‚°ã‚¤ãƒ³
3. ã€Œã“ã®ã‚¢ãƒ—ãƒªã¯ç¢ºèªã•ã‚Œã¦ã„ã¾ã›ã‚“ã€ã¨è¡¨ç¤ºã•ã‚ŒãŸå ´åˆï¼š
   - ã€Œè©³ç´°ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
   - ã€ŒCutoutShortï¼ˆå®‰å…¨ã§ã¯ãªã„ãƒšãƒ¼ã‚¸ï¼‰ã«ç§»å‹•ã€ã‚’ã‚¯ãƒªãƒƒã‚¯
4. ã€ŒCutoutShortãŒGoogleã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¸ã®ã‚¢ã‚¯ã‚»ã‚¹ã‚’ãƒªã‚¯ã‚¨ã‚¹ãƒˆã—ã¦ã„ã¾ã™ã€
   - ã€Œè¨±å¯ã€ã‚’ã‚¯ãƒªãƒƒã‚¯

#### 9-3. ãƒˆãƒ¼ã‚¯ãƒ³ã‚’GitHub Secretsã«è¿½åŠ 
1. `credentials/youtube-token.json` ãƒ•ã‚¡ã‚¤ãƒ«ãŒä½œæˆã•ã‚Œã¾ã™
2. ã“ã®ãƒ•ã‚¡ã‚¤ãƒ«ã®**å†…å®¹å…¨ä½“**ã‚’ã‚³ãƒ”ãƒ¼
3. GitHubã®ã€ŒSettingsã€â†’ã€ŒSecretsã€â†’ã€ŒYOUTUBE_TOKENã€ã‚’ç·¨é›†
4. ã‚³ãƒ”ãƒ¼ã—ãŸå†…å®¹ã‚’è²¼ã‚Šä»˜ã‘ã¦ã€ŒUpdate secretã€

---

### ã‚¹ãƒ†ãƒƒãƒ—10: GitHub Actionsãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã®æœ‰åŠ¹åŒ–

#### 10-1. ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãƒ•ã‚¡ã‚¤ãƒ«ã‚’ä½œæˆ
ãƒªãƒã‚¸ãƒˆãƒªã« `.github/workflows/daily-shorts.yml` ã‚’ä½œæˆï¼š

```yaml
name: Daily Shorts Generator

on:
  schedule:
    - cron: '0 3 * * *'  # æ¯Žæ—¥12:00 JST (UTC 3:00)
  workflow_dispatch:  # æ‰‹å‹•å®Ÿè¡Œã‚‚å¯èƒ½

jobs:
  process-videos:
    runs-on: ubuntu-latest
    timeout-minutes: 60

    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Set up Python
        uses: actions/setup-python@v5
        with:
          python-version: '3.11'

      - name: Install system dependencies
        run: |
          sudo apt-get update
          sudo apt-get install -y ffmpeg

      - name: Install Python dependencies
        run: |
          pip install --upgrade pip
          pip install -r requirements.txt

      - name: Setup credentials
        run: |
          mkdir -p credentials
          echo '${{ secrets.GOOGLE_APPLICATION_CREDENTIALS }}' > credentials/service-account.json
          echo '${{ secrets.YOUTUBE_CLIENT_SECRET }}' > credentials/youtube-client-secret.json
          echo '${{ secrets.YOUTUBE_TOKEN }}' > credentials/youtube-token.json

      - name: Create .env file
        run: |
          cat > .env << EOF
          GOOGLE_APPLICATION_CREDENTIALS=./credentials/service-account.json
          DRIVE_INPUT_FOLDER_ID=${{ secrets.DRIVE_INPUT_FOLDER_ID }}
          DRIVE_READY_FOLDER_ID=${{ secrets.DRIVE_READY_FOLDER_ID }}
          SPREADSHEET_ID=${{ secrets.SPREADSHEET_ID }}
          GEMINI_API_KEY=${{ secrets.GEMINI_API_KEY }}
          GEMINI_MODEL=gemini-1.5-flash-latest
          WHISPER_MODEL=small
          WHISPER_DEVICE=cpu
          WHISPER_COMPUTE_TYPE=int8
          TMP_DIR=/tmp
          EOF

      - name: Run scheduler
        run: python -m app.scheduler

      - name: Upload artifacts on failure
        if: failure()
        uses: actions/upload-artifact@v4
        with:
          name: error-logs
          path: |
            /tmp/*.log
            /tmp/*.mp4
          retention-days: 7
```

#### 10-2. ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ã‚’push
```bash
git add .github/workflows/daily-shorts.yml
git commit -m "Add GitHub Actions workflow for daily shorts generation"
git push origin main
```

#### 10-3. å‹•ä½œç¢ºèª
1. GitHubãƒªãƒã‚¸ãƒˆãƒªã®ã€ŒActionsã€ã‚¿ãƒ–ã‚’é–‹ã
2. ã€ŒDaily Shorts Generatorã€ã‚’é¸æŠž
3. ã€ŒRun workflowã€ã‚’ã‚¯ãƒªãƒƒã‚¯â†’ã€ŒRun workflowã€ã§æ‰‹å‹•å®Ÿè¡Œ
4. ãƒ¯ãƒ¼ã‚¯ãƒ•ãƒ­ãƒ¼ãŒé–‹å§‹ã•ã‚Œã¾ã™

---

## ðŸ“¹ å‹•ç”»ã®ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰æ–¹æ³•

### 1. ãƒ•ã‚©ãƒ«ãƒ€æ§‹é€ ã‚’ä½œæˆ
Google Driveã® `CutoutShort_Input` ãƒ•ã‚©ãƒ«ãƒ€å†…ã«ï¼š

```
CutoutShort_Input/
  â”œâ”€â”€ 1/
  â”‚   â”œâ”€â”€ video.mp4          ï¼ˆå¿…é ˆï¼šå‡¦ç†ã—ãŸã„å‹•ç”»ï¼‰
  â”‚   â””â”€â”€ å…ƒå‹•ç”»URL          ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼šGoogleãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆï¼‰
  â”œâ”€â”€ 2/
  â”‚   â”œâ”€â”€ tutorial.mp4
  â”‚   â””â”€â”€ å…ƒå‹•ç”»URL
  â””â”€â”€ 2025-01-15/
      â”œâ”€â”€ sample.mp4
      â””â”€â”€ å…ƒå‹•ç”»URL
```

### 2. Googleãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä½œæˆï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
å…ƒå‹•ç”»ã®URLã‚’è¨˜éŒ²ã—ãŸã„å ´åˆï¼š
1. ãƒ•ã‚©ãƒ«ãƒ€å†…ã§ã€Œæ–°è¦ã€â†’ã€ŒGoogleãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã€
2. YouTube URLã‚’è²¼ã‚Šä»˜ã‘ï¼ˆä¾‹ï¼š`https://www.youtube.com/watch?v=xxxxx`ï¼‰
3. ã‚¿ã‚¤ãƒˆãƒ«ã¯ä½•ã§ã‚‚OKï¼ˆã€Œå…ƒå‹•ç”»URLã€ãªã©ï¼‰

### 3. å‡¦ç†ã®æµã‚Œ
1. æ¯Žæ—¥12:00ï¼ˆJSTï¼‰ã«è‡ªå‹•å®Ÿè¡Œ
2. å„ãƒ•ã‚©ãƒ«ãƒ€ã®å‹•ç”»ã‹ã‚‰5æœ¬ã®ã‚·ãƒ§ãƒ¼ãƒˆå‹•ç”»ã‚’ç”Ÿæˆ
3. AI ãŒã‚¿ã‚¤ãƒˆãƒ«ã¨èª¬æ˜Žæ–‡ã‚’è‡ªå‹•ç”Ÿæˆ
4. YouTubeã«äºˆç´„æŠ•ç¨¿ï¼ˆ1æ—¥1æœ¬ãƒšãƒ¼ã‚¹ã€æ¯Žæ—¥12:00æŠ•ç¨¿ï¼‰
5. Googleã‚¹ãƒ—ãƒ¬ãƒƒãƒ‰ã‚·ãƒ¼ãƒˆã«è¨˜éŒ²
6. å‡¦ç†æ¸ˆã¿ãƒ•ã‚©ãƒ«ãƒ€ã¯ `CutoutShort_Ready` ã«ç§»å‹•

---

## ðŸ”§ ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

### GitHub ActionsãŒå¤±æ•—ã™ã‚‹å ´åˆ

**1. SecretsãŒæ­£ã—ãè¨­å®šã•ã‚Œã¦ã„ã‚‹ã‹ç¢ºèª**
- ã€ŒSettingsã€â†’ã€ŒSecretsã€ã§å…¨ã¦è¿½åŠ ã•ã‚Œã¦ã„ã‚‹ã‹
- JSONãƒ•ã‚¡ã‚¤ãƒ«ã®å†…å®¹ãŒå®Œå…¨ã«ã‚³ãƒ”ãƒ¼ã•ã‚Œã¦ã„ã‚‹ã‹

**2. YouTubeèªè¨¼ãƒˆãƒ¼ã‚¯ãƒ³ã®æœ‰åŠ¹æœŸé™åˆ‡ã‚Œ**
- ã‚¹ãƒ†ãƒƒãƒ—9ã‚’å†å®Ÿè¡Œã—ã¦ãƒˆãƒ¼ã‚¯ãƒ³ã‚’æ›´æ–°
- æ–°ã—ã„ãƒˆãƒ¼ã‚¯ãƒ³ã§GitHub Secretsã‚’æ›´æ–°

**3. APIã®æœ‰åŠ¹åŒ–ã‚’ç¢ºèª**
- Google Cloud Consoleã§å…¨ã¦ã®APIãŒæœ‰åŠ¹ã«ãªã£ã¦ã„ã‚‹ã‹

### å‹•ç”»ãŒã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰ã•ã‚Œãªã„å ´åˆ

**1. YouTube ã‚¢ãƒƒãƒ—ãƒ­ãƒ¼ãƒ‰åˆ¶é™**
- æ–°ã—ã„ã‚¢ã‚«ã‚¦ãƒ³ãƒˆã¯1æ—¥ã®ä¸Šé™ãŒã‚ã‚Šã¾ã™
- 24æ™‚é–“å¾…ã£ã¦ã‹ã‚‰å†å®Ÿè¡Œ

**2. ãƒ•ã‚©ãƒ«ãƒ€æ¨©é™**
- ã‚µãƒ¼ãƒ“ã‚¹ã‚¢ã‚«ã‚¦ãƒ³ãƒˆãŒå…¨ã¦ã®ãƒ•ã‚©ãƒ«ãƒ€ã«ã€Œç·¨é›†è€…ã€æ¨©é™ã‚’æŒã£ã¦ã„ã‚‹ã‹ç¢ºèª

**3. ãƒ­ã‚°ã‚’ç¢ºèª**
- GitHub Actionsã®ã€ŒActionsã€ã‚¿ãƒ–ã§ãƒ­ã‚°ã‚’ç¢ºèª
- ã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸ã‹ã‚‰åŽŸå› ã‚’ç‰¹å®š

---

## ðŸ“Š ã‚³ã‚¹ãƒˆ

### Gemini APIï¼ˆAIç”Ÿæˆï¼‰
- å…¥åŠ›ï¼šÂ¥11.25 / 100ä¸‡ãƒˆãƒ¼ã‚¯ãƒ³
- å‡ºåŠ›ï¼šÂ¥45 / 100ä¸‡ãƒˆãƒ¼ã‚¯ãƒ³
- **æŽ¨å®šï¼š1å‹•ç”»ã‚ãŸã‚ŠÂ¥0.01ã€œ0.05å††**

### ãã®ä»–
- Google Cloud Platformï¼šç„¡æ–™æž å†…
- GitHub Actionsï¼šãƒ‘ãƒ–ãƒªãƒƒã‚¯ãƒªãƒã‚¸ãƒˆãƒªã¯ç„¡æ–™
- YouTubeï¼šç„¡æ–™

**æœˆé–“100å‹•ç”»å‡¦ç†ã—ã¦ã‚‚æ•°å††ç¨‹åº¦ã§ã™ã€‚**

---

## ðŸ“ ãƒ¡ãƒ¢

- åˆå›žã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—ã«ã¯1ã€œ2æ™‚é–“ã‹ã‹ã‚Šã¾ã™
- ã‚ã‹ã‚‰ãªã„ã“ã¨ãŒã‚ã‚Œã°ã€å„ã‚¹ãƒ†ãƒƒãƒ—ã”ã¨ã«ç¢ºèªã—ã¦ãã ã•ã„
- YouTubeèªè¨¼ã¯ä¸€åº¦è¨­å®šã™ã‚Œã°åŸºæœ¬çš„ã«ãã®ã¾ã¾ä½¿ãˆã¾ã™
- ãƒˆãƒ¼ã‚¯ãƒ³ã®æœ‰åŠ¹æœŸé™ãŒåˆ‡ã‚ŒãŸã‚‰å†èªè¨¼ãŒå¿…è¦ã§ã™ï¼ˆã‚¹ãƒ†ãƒƒãƒ—9ï¼‰

---

## ðŸŽ‰ å®Œäº†ï¼

å…¨ã¦ã®ã‚¹ãƒ†ãƒƒãƒ—ãŒå®Œäº†ã—ãŸã‚‰ã€æ¯Žæ—¥è‡ªå‹•çš„ã«YouTube ShortsãŒç”Ÿæˆãƒ»æŠ•ç¨¿ã•ã‚Œã¾ã™ï¼
